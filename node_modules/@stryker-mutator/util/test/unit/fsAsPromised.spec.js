"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const chai_1 = require("chai");
const fs = require("fs");
const util_1 = require("util");
const src_1 = require("../../src");
describe('fsAsPromised', () => {
    describePromisifiedFunction('exists');
    describePromisifiedFunction('lstat');
    describePromisifiedFunction('symlink');
    describePromisifiedFunction('readFile');
    describePromisifiedFunction('writeFile');
    describePromisifiedFunction('stat');
    describePromisifiedFunction('readdir');
    describeProxyFunction('existsSync');
    describeProxyFunction('readdirSync');
    describeProxyFunction('createReadStream');
    describeProxyFunction('createWriteStream');
    function describeProxyFunction(fnToTest) {
        it(`should proxy ${fnToTest}`, () => {
            // It's difficult to test this any other way. At least this way, we know it is promisified.
            chai_1.expect(src_1.fsAsPromised[fnToTest]).eq(fs[fnToTest]);
        });
    }
    function describePromisifiedFunction(fnToTest) {
        it(`should expose promisified ${fnToTest}`, () => {
            // It's difficult to test this any other way. At least this way, we know it is promisified.
            chai_1.expect(src_1.fsAsPromised[fnToTest].toString()).eq(util_1.promisify(fs[fnToTest]).toString());
        });
    }
});
//# sourceMappingURL=fsAsPromised.spec.js.map